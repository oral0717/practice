<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>自定义媒体播放器</title>
</head>

<body>
	<div class="mediaplayer">
		<div class="audio">
			<audio src="../source/audio/movie.ogg" id="player">
				audio player not available.
			</audio>
		</div>
		<div class="controls">
			<input type="button" value="Play" id="audio-btn">
			<span id="curtime">0</span>||<span id="duration">0</span>
		</div>
	</div>
</body>
<script src="js/eventCrossBrowser.js"></script>
<script type="text/javascript">
var player = document.getElementById("player");
var btn = document.getElementById("audio-btn");
var curtime = document.getElementById("curtime");
var duration = document.getElementById("duration");
// 判断浏览器是否支持某音频文件,可能为三个值：maybe,probably,"";为""表示不支持
if (player.canPlayType("audio/ogg")){
	// 更新播放时间
	duration.innerHTML = player.duration;
	// 为按钮添加事件处理程序
	EventUtil.addHandler(btn, "click", function(event){
		if (player.paused){
			player.play();
			btn.value = "Pause";
		} else {
			player.pause();
			btn.value = "Play";
		}
	});
	//定时更新当前时间
	setInterval(function(){
		curtime.innerHTML = player.currentTime;
	}, 250);
}
</script>
</html>
